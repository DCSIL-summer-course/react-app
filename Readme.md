# React Workshop

## Getting Started

* Assuming you're using Sublime Text 3 (if you are not, please download it):
	*  download [Package Control](https://packagecontrol.io/installation)
	*  then using Package Control, download "Babel"

	
Now you have React/ES6 syntax highlighting for Sublime Text 3!

## Setup

Once you've downloaded this repo run the following commands from within this projects directory:

```
npm install
sudo npm install webpack-dev-server -g
```

Then to run the app:

```
webpack-dev-server --hot --inline
```

That gives you automatic reloads & updates.

## ES6 modules & JSX

JavaScript ES5 modules are an officially approved spec, however no browser has implemented support for modules. Importing a JavaScript ES6 module look like:

```
import React from 'react';
```

Despite the lack of support, the React community uses ES6 modules heavily through a transpiler called [Babel](https://babeljs.io/). Babel transpiles (more or less compiles) ES6 code to ES5 code, which all browsers support. This allows us to use all the goodness of ES6 without having to wait for browser support.

Likewise, React developers have created a `jsx` a superset of JavaScript that allows developers to add `html` inline to their JavaScript code:

```jsx
let App = () => {
  return (
    <h1>Hello World</h1>
  );
}
```

Again, browsers do not support `.jsx`, but Babel does.

The software that runs Babel (a plugin) is Webpack. Webpack also has other plugins like automate reload and other goodies (e.g. `webpack-dev-server`).

## Sourcemaps

One of the major kinks about using transpiled code is using Chrome's debugger. The transpiled code looks different then the code we wrote, has different line numbers and both of those aspects make using the debugger tricky. Thankfully we can use another technology that is widely supported by browsers called sourcemaps. Using an extra flag on Webpack we can tell it to generate a source map during the transpilation step. The source map literally provides the browser with a map between the source code that we wrote (ES6 + JSX) to the transpiled ES5 code. This allows us to "debug" the ES6/JSX code that we wrote and not the transpiled code that was generated by Webpack/Babel.

## React

Open up `index.html`

```jsx
import React from 'react';
import { render } from 'react-dom';

let App = () => {
  return (
    <div>
      <h1 style={{color: 'gray'}}>
        Hello World!
      </h1>
    </div>
  );
}

render(<App/>, document.getElementById('root'));
```

The first two lines import React and ReactDOM. ReactDOM is for interacting with the DOM (it was extracted out of React with the creation of ReactNative).

The function `App` is a React component - by convention we capitalize components. Note the mixture of JavaScript (ES6) and HTML - this mixture is JSX. Defining styles inline is also common in React - it makes the components more modular.

There are a number of ways to create React components, the methods above is the ["stateless" functional method](https://facebook.github.io/react/docs/reusable-components.html#stateless-functions). React developers on why you should make stateless components:

> In an ideal world, most of your components would be stateless functions because in the future weâ€™ll also be able to make performance optimizations specific to these components by avoiding unnecessary checks and memory allocations. This is the recommended pattern, when possible.

The final line calles our new component `<App/>` and adds it to `<div id="root"></div>`, which is already on our `index.html` page.


## Create a new component

We're going to create a `CatPic` component and eventually allows us to resize the pic dynamically. First create a new file called `cat-pic.jsx` within the `src/` folder.

```jsx
import React from 'react';

const CatPic = () => {
  return (
    <div>
      <img 
        style={{width: 250 + 'px'}} 
        src="https://i.ytimg.com/vi/tntOCGkgt98/maxresdefault.jpg"
      />
    </div>
  );
}

export default CatPic;
```

Even though we don't use it explicitly we first we import `React`. Next we create an immutable (`const`) function called `CatPic`. By React convention functions that are components are capitalized. 

### Using the component

Update `src/app.jsx` to import our new component and use it:

```
import React from 'react';
import { render } from 'react-dom';
import CatPic from './cat-pic.jsx';

let App = () => {
  return (
    <div>
      <h1 style={{color: 'gray'}}>
        Hello World!
      </h1>
      <CatPic />
    </div>
  );
}

render(<App/>, document.getElementById('root'));
```

## Create a button component 

Our above app is entirely static, let's add two buttons that allow us to increase and decrease the size of the cat pic. First create a new file: `src/change-pic-size.jsx` and create a new component called `ChangePicSize` that includes a `<div>` with two buttons, each with an `onClick` function attached. For now each button will just log to the console.

### Hint

* Don't forget to import React
* Don't forget to export your component
* onClick is a property of the button element `<button onClick={() => {}}>`

### Cheat

```jsx
import React from 'react';

const ChangePicSize = () => {
  return (
    <div>
      <button onClick={() => {
        console.log('increase size...');
      }}>+ Increase</button>
      <button onClick={() => {
        console.log('decrease size...');
      }}>- Decrease</button>
    </div>
  );
}

export default ChangePicSize;
```

## Redux & One-way flow of data

Redux, a library created by a Facebook developer, facilitates one-way data flow simply and elegantly. In order to make our buttons do something we're going to integrate Redux with less than 20 lines of code!

How Redux works:

1. It has a single state object that stores you're application's entire state. This might sound bad, but makes testing very easy.
2. It uses functions (Redux calles them "reducers") to modify the state object.
3. Events are emmitted by components of your app, Redux picks up these events and the reducer handles them.

### Update the imports in `app.jsx`

```jsx
import React from 'react';
import { render } from 'react-dom';
import { createStore, combineReducers } from 'redux';
import { Provider } from 'react-redux';

import CatPic from './cat-pic.jsx';
import ChangePicSize from './change-pic-size.jsx';
```

We're importing two functions from redux, `createStore` and `combineReducers`.